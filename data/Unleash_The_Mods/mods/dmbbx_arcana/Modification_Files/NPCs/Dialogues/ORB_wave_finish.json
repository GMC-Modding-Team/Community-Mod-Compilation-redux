{
  "id": "TALK_DMBB_ORB_command_endwave",
  "type": "talk_topic",
  "responses": [
    {
      "text": "[FINISH] Special Wave - Anomalies 1",
      "topic": "TALK_DONE",
      "condition": {
        "and": [
          { "u_has_var": "dmbb_orb", "type": "specarcanaano1", "context": "in_combat", "value": "yes" },
          { "not": { "u_has_var": "dmbb_orb", "type": "specarcanaano1", "context": "finish", "value": "yes" } }
        ]
      },
      "effect": [
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_1", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_2", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_3", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_4", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_5", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_6", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_7", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_8", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_9", "om_special": "DMBB Arena" },
        { "u_buy_item": "dmbb_essence", "count": 75 },
        { "u_lose_var": "dmbb_orb", "type": "general", "context": "in_combat", "value": "yes" },
        { "u_add_var": "dmbb_orb", "type": "specarcanaano1", "context": "finish", "value": "yes" }
      ]
    },
    {
      "text": "[FINISH] Special Wave - Moruburu 1",
      "topic": "TALK_DONE",
      "condition": {
        "and": [
          { "u_has_var": "dmbb_orb", "type": "specarcanamor1", "context": "in_combat", "value": "yes" },
          { "not": { "u_has_var": "dmbb_orb", "type": "specarcanamor1", "context": "finish", "value": "yes" } }
        ]
      },
      "effect": [
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_1", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_2", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_3", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_4", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_5", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_6", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_7", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_8", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_9", "om_special": "DMBB Arena" },
        { "u_buy_item": "dmbb_essence", "count": 75 },
        { "u_lose_var": "dmbb_orb", "type": "general", "context": "in_combat", "value": "yes" },
        { "u_add_var": "dmbb_orb", "type": "specarcanamor1", "context": "finish", "value": "yes" }
      ]
    },
    {
      "text": "[FINISH] Special Wave - Spirit of Fire 1",
      "topic": "TALK_DONE",
      "condition": {
        "and": [
          { "u_has_var": "dmbb_orb", "type": "specarcanasof1", "context": "in_combat", "value": "yes" },
          { "not": { "u_has_var": "dmbb_orb", "type": "specarcanasof1", "context": "finish", "value": "yes" } }
        ]
      },
      "effect": [
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_1", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_2", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_3", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_4", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_5", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_6", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_7", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_8", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_9", "om_special": "DMBB Arena" },
        { "u_buy_item": "dmbb_essence", "count": 100 },
        { "u_lose_var": "dmbb_orb", "type": "general", "context": "in_combat", "value": "yes" },
        { "u_add_var": "dmbb_orb", "type": "specarcanasof1", "context": "finish", "value": "yes" }
      ]
    },
    {
      "text": "[FINISH] Special Wave - Archon 1",
      "topic": "TALK_DONE",
      "condition": {
        "and": [
          { "u_has_var": "dmbb_orb", "type": "specarcanaarc1", "context": "in_combat", "value": "yes" },
          { "not": { "u_has_var": "dmbb_orb", "type": "specarcanaarc1", "context": "finish", "value": "yes" } }
        ]
      },
      "effect": [
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_1", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_2", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_3", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_4", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_5", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_6", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_7", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_8", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_9", "om_special": "DMBB Arena" },
        { "u_buy_item": "dmbb_essence", "count": 100 },
        { "u_lose_var": "dmbb_orb", "type": "general", "context": "in_combat", "value": "yes" },
        { "u_add_var": "dmbb_orb", "type": "specarcanaarc1", "context": "finish", "value": "yes" }
      ]
    },
    {
      "text": "[FINISH] Special Wave - Dracolich 1",
      "topic": "TALK_DONE",
      "condition": {
        "and": [
          { "u_has_var": "dmbb_orb", "type": "specarcanadra1", "context": "in_combat", "value": "yes" },
          { "not": { "u_has_var": "dmbb_orb", "type": "specarcanadra1", "context": "finish", "value": "yes" } }
        ]
      },
      "effect": [
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_1", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_2", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_3", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_4", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_5", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_6", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_7", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_8", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_9", "om_special": "DMBB Arena" },
        { "u_buy_item": "dmbb_essence", "count": 150 },
        { "u_lose_var": "dmbb_orb", "type": "general", "context": "in_combat", "value": "yes" },
        { "u_add_var": "dmbb_orb", "type": "specarcanadra1", "context": "finish", "value": "yes" }
      ]
    },
    {
      "text": "[FINISH] Special Wave - Seraphic Shade 1",
      "topic": "TALK_DONE",
      "condition": {
        "and": [
          { "u_has_var": "dmbb_orb", "type": "specarcanaser1", "context": "in_combat", "value": "yes" },
          { "not": { "u_has_var": "dmbb_orb", "type": "specarcanaser1", "context": "finish", "value": "yes" } }
        ]
      },
      "effect": [
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_1", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_2", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_3", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_4", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_5", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_6", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_7", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_8", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_9", "om_special": "DMBB Arena" },
        { "u_buy_item": "dmbb_essence", "count": 175 },
        { "u_lose_var": "dmbb_orb", "type": "general", "context": "in_combat", "value": "yes" },
        { "u_add_var": "dmbb_orb", "type": "specarcanaser1", "context": "finish", "value": "yes" }
      ]
    }
  ]
}
