[
{
    "id": "MISSION_BOTCHED_NECROMANCY",
    "type": "mission_definition",
    "name": "Botched Necromancy",
    "description": "Find and kill a zombie horde.",
    "goal": "MGOAL_KILL_MONSTER",
    "followup": "MISSION_GOLEM_CONSTRUCT",
    "difficulty": 1,
    "value": 1,
	"origins": [ "ORIGIN_OPENER_NPC" ],
        "start": {
      "assign_mission_target": { "om_terrain": "field", "reveal_radius": 1, "random": true, "search_range": 5, "min_distance": 4, "z": 0 },
      "update_mapgen": { "place_monster": [ { "monster": "mon_mtc_zombie", "x": 11, "y": 11, "target": true },
                                            { "monster": "mon_mtc_zombie", "x": 11, "y": 12, "target": true },
                                            { "monster": "mon_mtc_zombie", "x": 11, "y": 13, "target": true },
                                            { "monster": "mon_mtc_zombie_warrior_cut", "x": 11, "y": 14, "target": true },
                                            { "monster": "mon_mtc_skeleton", "x": 11, "y": 10, "target": true },
                                            { "monster": "mon_mtc_skeleton", "x": 11, "y": 9, "target": true } ] }
    },
	"end": { "effect": [
		{ "u_spawn_item": "silver_coin", "count": 5 },
                { "npc_add_var": "MAGE_APPRENTICE", "type": "general", "context": "mission", "value": "yes" }
		] },
	"has_generic_rewards": false,
	"dialogue": {
      "describe": "A summoning ritual went wrong, and now risen dead wander.",
	  "offer": "Well, you see...I was working on my magic practice; summoning, it was, and my...summons went rouge. IF you could stop them for me, I'd appreciate it. Heck, I'll even pay you.",
	  "advice": "They're...tough, let's say. I would recommend keeping your guard up.",
      "accepted": "Be careful.",
      "rejected": "Come on, its important.",
      "inquire": "Did you do it?",
      "success": "Thank you! I was worried something bad would happen!",
      "success_lie": "Wonderful. Though, I thought I saw something strange moving about...",
      "failure": "Oh no."
    }
  },
{
    "id": "MISSION_GOLEM_CONSTRUCT",
    "type": "mission_definition",
    "name": "Wizard's Best Friend",
    "description": "Obtain clay (40 chunks)",
    "goal": "MGOAL_FIND_ITEM",
    "followup": "MISSION_GOLEM_CONSTRUCT2",
     "item": "clay_lump",
	"count": 40,
    "difficulty": 1,
    "value": 1,
	"origins": [ "ORIGIN_OPENER_NPC" ],
        "start": { "assign_mission_target": { "om_terrain": "river", "reveal_radius": 1, "random": true } },
	"end": { "effect": [
		{ "u_spawn_item": "copper_coin", "count": 35 }
		] },
	"has_generic_rewards": false,
	"dialogue": {
      "describe": "I've been working on my summoning magic, and I'm building a golem. I need clay, though.",
	  "offer": "I've been working on my summoning magic, and I'm planning building a golem, nothing too fancy. I need clay, however, and I'd appreciate if you could get some for me.",
	  "advice": "I've seen clay deposits near rivers.",
      "accepted": "Thank you.",
      "rejected": "Ah, well.",
      "inquire": "Do you have the clay?",
      "success": "Thank you. It'll be a while before it's ready, though.",
      "success_lie": "Where is the clay?",
      "failure": "Oh well."
    }
  },
{
    "id": "MISSION_GOLEM_CONSTRUCT2",
    "type": "mission_definition",
    "name": "Wizard's Best Friend Pt. II",
    "description": "Get a small relic (a runed totem)",
    "goal": "MGOAL_FIND_ITEM",
    "followup": "MISSION_GOLEM_CONSTRUCT3",
     "item": "runed_totem",
	"count": 1,
    "difficulty": 1,
    "value": 1,
	"origins": [ "ORIGIN_OPENER_NPC" ],
	"end": { "effect": [
		{ "u_spawn_item": "copper_coin", "count": 5 }
		] },
	"has_generic_rewards": false,
	"dialogue": {
      "describe": "I need a small totem.",
	  "offer": "I've almost got the body finished, though I need something to bind the golem too. Could you get me a small relic of some sort...I don't know how to carve, you see.",
	  "advice": "I think the general store may have one, or you could make one yourself.",
      "accepted": "Thank you.",
      "rejected": "Ah, well.",
      "inquire": "Do you have it?",
      "success": "Thank you.",
      "success_lie": "Where is it?",
      "failure": "Oh well."
    }
  },
{
    "id": "MISSION_GOLEM_CONSTRUCT3",
    "type": "mission_definition",
    "name": "Wizard's Best Friend Pt. III",
    "description": "Get a channeling totem (a metallic totem of chanelling)",
    "goal": "MGOAL_FIND_ITEM",
    "followup": "MISSION_GOLEM_CONSTRUCT4",
     "item": "channel_totem_metal",
	"count": 1,
    "difficulty": 1,
    "value": 1,
	"origins": [ "ORIGIN_OPENER_NPC" ],
	"end": { "effect": [
		{ "u_spawn_item": "silver_coin", "count": 3 }
		] },
	"has_generic_rewards": false,
	"dialogue": {
      "describe": "I need a metallic totem of chanelling.",
	  "offer": "I've got the body finished. Now I need something to infuse it with. If you could get a channeling totem, I'd be really happy.",
	  "advice": "I think you'll need to enchant one yourself. I don't have a metal one.",
      "accepted": "Thank you.",
      "rejected": "Ah, well.",
      "inquire": "Do you have it?",
      "success": "Thank you.",
      "success_lie": "Where is it?",
      "failure": "Oh well."
    }
  },
{
    "id": "MISSION_GOLEM_CONSTRUCT4",
    "type": "mission_definition",
    "name": "Wizard's Best Friend Pt. IV",
    "description": "Get some raw magic.",
    "goal": "MGOAL_FIND_ITEM",
    "followup": "MISSION_GOLEM_CONSTRUCT5",
     "item": "crystallized_mana",
	"count": 100,
    "difficulty": 1,
    "value": 1,
	"origins": [ "ORIGIN_OPENER_NPC" ],
	"end": { "effect": [
		{ "u_spawn_item": "silver_coin", "count": 3 }
		] },
	"has_generic_rewards": false,
	"dialogue": {
      "describe": "I need some crystalized magic.",
	  "offer": "For my next step, I need some magic to animate the golem. If you could get me some crystalized magic, that'd be a big help.",
	  "advice": "An academy should have some lying around. You could just make some yourself, if you know how.",
      "accepted": "Thank you.",
      "rejected": "Ah, well.",
      "inquire": "Do you have it?",
      "success": "Thank you.",
      "success_lie": "Where is it?",
      "failure": "Oh well."
    }
  },
{
    "id": "MISSION_GOLEM_CONSTRUCT5",
    "type": "mission_definition",
    "name": "Wizard's Best Friend Pt. V",
    "description": "Obtain a Book of Golems.",
    "goal": "MGOAL_FIND_ITEM",
    "followup": "MISSION_GOLEM_CONSTRUCT5",
     "item": "book_of_golems",
	"count": 1,
    "difficulty": 1,
    "value": 1,
	"origins": [ "ORIGIN_OPENER_NPC" ],
	"end": { "effect": [
		{ "u_spawn_item": "silver_coin", "count": 30 },
                { "npc_add_var": "busy_with_something", "type": "general", "context": "mission", "value": "yes" }
		] },
	"has_generic_rewards": false,
	"dialogue": {
      "describe": "I need a Book of Golems.",
	  "offer": "Alright, I've got everything I need. But I'm missing the instructions for building it. They're rare, but I need a Book of Golems. I'd pay you well for getting it, and I'll only use it for a while.",
	  "advice": "Some old ruins might have one, or a mage with connections. Besides that, I don't know.",
      "accepted": "Thank you.",
      "rejected": "Ah, well.",
      "inquire": "Do you have it?",
      "success": "Thank you.",
      "success_lie": "Where is it?",
      "failure": "Oh well."
    }
  },
{
    "id": "MISSION_VISIT_DORM",
    "type": "mission_definition",
    "name": "Visit Your Dorm",
    "description": "Visit your dorm room and retrive the receptionists paperwork.",
    "goal": "MGOAL_FIND_ITEM",
    "item": "reception_paperwork",
	"count": 1,
    "difficulty": 1,
    "value": 10,
    "start": {
      "assign_mission_target": { "om_terrain": "wizard_academy_dorm_right", "om_special": "wizard_academy" },
      "update_mapgen": [
        { "om_terrain": "wizard_academy_dorm_right", "place_nested": [ { "chunks": [ "your_dorm" ], "x": 0, "y": 0 } ] }
      ]
    },
    "origins": [ "ORIGIN_OPENER_NPC" ],
    "end": { "effect": [
		{ "u_spawn_item": "copper_coin", "count": 5 }
		] },
    "has_generic_rewards": false,
    "dialogue": {
    "describe": "Why don't you go visit your dorm?",
    "offer": "Why don't you go visit your dorm? I think I left some paperwork in there, could you get it for me?",
    "advice": "Just go to your dorm.",
      "accepted": "Thanks!",
      "rejected": "Ah well.",
      "inquire": "Do you have it?",
      "success": "Wonderful!",
      "success_lie": "Where is it?",
      "failure": "How could you possibly fuck that up you <name_b>?!"
    }
  },
{
    "id": "MISSION_FIRST_LESSON",
    "type": "mission_definition",
    "name": "First Lessons",
    "description": "Crystalize some raw magic.",
    "goal": "MGOAL_FIND_ITEM",
    "followup": "MISSION_MAGIC_LESSONS",
    "item": "crystallized_mana",
	"count": 10,
    "difficulty": 1,
    "value": 4000,
    "origins": [ "ORIGIN_OPENER_NPC" ],
    "end": { "effect": [
		{ "u_spawn_item": "wizard_basic", "count": 1 },
                { "npc_add_var": "magic_lesson_1", "type": "general", "context": "mission", "value": "yes" }
		] },
    "has_generic_rewards": true,
    "dialogue": {
    "describe": "Demonstrate your magic to me.",
    "offer": "For our first lesson, I need a demonstration of your magical abilities. Within that case, I need you to bring me some crystalized mana, just a bit. Infusion benches are in the back.",
    "advice": "Its simple, just make some magic.",
      "accepted": "Good.",
      "rejected": "This is required, you know.",
      "inquire": "Have you done it? Get back out there!",
      "success": "Good job.",
      "success_lie": "I don't see anything.",
      "failure": "Ah well."
    }
  },
{
    "id": "MISSION_MAGIC_LESSONS",
    "type": "mission_definition",
    "name": "Magical Study",
    "description": "Crystalize some raw magic (100 units).",
    "goal": "MGOAL_FIND_ITEM",
    "followup": "MISSION_MAGIC_LESSONS",
    "item": "crystallized_mana",
	"count": 100,
    "difficulty": 1,
    "value": 1000,
    "origins": [ "ORIGIN_OPENER_NPC" ],
    "has_generic_rewards": true,
    "dialogue": {
    "describe": "Demonstrate your magic to me.",
    "offer": "For today's lesson, I want you to practice channeling magic. Bring it to me when you're finished. I'll give you some scrolls for it, if you like.",
    "advice": "Its simple, just make some raw magic.",
      "accepted": "Good.",
      "rejected": "This is required, you know.",
      "inquire": "Have you done it?",
      "success": "Good job.",
      "success_lie": "",
      "failure": ""
    }
  },
{
    "id": "MISSION_ALCHEMY_LESSONS",
    "type": "mission_definition",
    "name": "Alchemical Study",
    "description": "Brew a potion of strength.",
    "goal": "MGOAL_FIND_ITEM",
    "followup": "MISSION_ALCHEMY_LESSONS",
    "item": "potion_strength_lesser",
	"count": 1,
    "difficulty": 1,
    "value": 3000,
    "origins": [ "ORIGIN_OPENER_NPC" ],
     "start": { "effect": [   
		{ "u_spawn_item": "health_totem_fiber" }
		] },
    "has_generic_rewards": true,
    "dialogue": {
    "describe": "Demonstrate your magic to me.",
    "offer": "For today's lesson, I want you to practice alchemy. Brew me a potion of strength, and I'll give you something for it.",
    "advice": "Its simple, just follow the recipe.",
      "accepted": "Good.",
      "rejected": "This is required, you know.",
      "inquire": "Have you done it?",
      "success": "Good job.",
      "success_lie": "",
      "failure": ""
    }
  },
{
    "id": "MISSION_SECOND_LESSON",
    "type": "mission_definition",
    "name": "Mage-Hunter",
    "description": "Find and kill a goblin.",
    "goal": "MGOAL_KILL_MONSTER",
    "difficulty": 1,
    "value": 1000,
	"origins": [ "ORIGIN_OPENER_NPC" ],
        "start": {
      "assign_mission_target": { "om_terrain": "field", "reveal_radius": 1, "random": true, "search_range": 5, "min_distance": 4, "z": 0 },
      "update_mapgen": { "place_monster": [ { "monster": "mon_mtc_goblin", "x": 1, "y": 1, "target": true } ] }
    },
	"end": { "effect": [
		{ "u_spawn_item": "magic_focus_staff" },
                { "npc_add_var": "magic_lesson_2", "type": "general", "context": "mission", "value": "yes" },
                { "npc_lose_var": "magic_lesson_1", "type": "general", "context": "mission", "value": "yes" }
		] },
	"has_generic_rewards": true,
	"dialogue": {
      "describe": "A goblin is on the loose.",
	  "offer": "We've seen a goblin wandering around here, stealing our materials. I want you to kill it.",
	  "advice": "I would recommend keeping your guard up.",
      "accepted": "Be careful.",
      "rejected": "Ah well.",
      "inquire": "Did you do it?",
      "success": "Good job. I belive you have earned this.",
      "success_lie": "",
      "failure": "Oh no."
    }
  },
{
    "id": "MISSION_THIRD_LESSON",
    "type": "mission_definition",
    "name": "Third Lesson",
    "description": "Find and kill two zombies.",
    "goal": "MGOAL_KILL_MONSTER",
    "difficulty": 1,
    "value": 1000,
	"origins": [ "ORIGIN_OPENER_NPC" ],
        "start": {
      "assign_mission_target": { "om_terrain": "field", "reveal_radius": 1, "random": true, "search_range": 5, "min_distance": 4, "z": 0 },
      "update_mapgen": { "place_monster": [ { "monster": "mon_mtc_zombie", "x": 1, "y": 1, "target": true },
                                            { "monster": "mon_mtc_zombie", "x": 2, "y": 2, "target": true } ] }
    },
	"end": { "effect": [
                { "npc_add_var": "magic_lesson_3", "type": "general", "context": "mission", "value": "yes" },
                { "npc_lose_var": "magic_lesson_2", "type": "general", "context": "mission", "value": "yes" }
		] },
	"has_generic_rewards": true,
	"dialogue": {
      "describe": "I have set out two undead for you to slay.",
	  "offer": "For your third lesson, I have set two undead out. I want you to kill them.",
	  "advice": "I would recommend keeping your guard up.",
      "accepted": "Be careful.",
      "rejected": "This is required, you know.",
      "inquire": "Did you do it?",
      "success": "Good job.",
      "success_lie": "",
      "failure": "Oh no."
    }
  },
{
    "id": "MISSION_FOURTH_LESSON",
    "type": "mission_definition",
    "name": "Fourth Lesson",
    "description": "Find and kill three zombies.",
    "goal": "MGOAL_KILL_MONSTER",
    "difficulty": 1,
    "value": 1000,
	"origins": [ "ORIGIN_OPENER_NPC" ],
        "start": {
      "assign_mission_target": { "om_terrain": "field", "reveal_radius": 1, "random": true, "search_range": 5, "min_distance": 4, "z": 0 },
      "update_mapgen": { "place_monster": [ { "monster": "mon_mtc_zombie", "x": 1, "y": 1, "target": true },
                                            { "monster": "mon_mtc_zombie", "x": 2, "y": 2, "target": true },
                                            { "monster": "mon_mtc_zombie", "x": 4, "y": 4, "target": true } ] }
    },
	"end": { "effect": [
                { "u_spawn_item": "first_grad_slip" },
                { "npc_lose_var": "u_in_class", "type": "general", "context": "mission", "value": "yes" },
                { "npc_lose_var": "magic_lesson_3", "type": "general", "context": "mission", "value": "yes" }
		] },
	"has_generic_rewards": true,
	"dialogue": {
      "describe": "I have set out three undead for you to slay.",
	  "offer": "For your final lesson, I have set three undead out. I want you to kill them.",
	  "advice": "I would recommend keeping your guard up.",
      "accepted": "Be careful.",
      "rejected": "This is required to pass, you know.",
      "inquire": "Did you do it?",
      "success": "Good job. I present your certificate of course completion. Use this magic, and your knowledge, wisely.",
      "success_lie": "",
      "failure": "Oh no."
    }
  },
{
    "id": "MISSION_MAGIC_LESSONS_II",
    "type": "mission_definition",
    "name": "Magical Study",
    "description": "Crystalize some raw magic (150 units).",
    "goal": "MGOAL_FIND_ITEM",
    "followup": "MISSION_MAGIC_LESSONS_II",
    "item": "crystallized_mana",
	"count": 150,
    "difficulty": 1,
    "value": 1000,
    "origins": [ "ORIGIN_OPENER_NPC" ],
    "has_generic_rewards": true,
    "dialogue": {
    "describe": "Demonstrate your magic to me.",
    "offer": "For today's lesson, I want you to practice channeling magic. Bring it to me when you're finished. I'll give you some scrolls for it, if you like.",
    "advice": "Its simple, just make some raw magic.",
      "accepted": "Good.",
      "rejected": "This is required, you know.",
      "inquire": "Have you done it?",
      "success": "Good job.",
      "success_lie": "",
      "failure": ""
    }
  },
{
    "id": "MISSION_FIFTH_LESSON",
    "type": "mission_definition",
    "name": "Cold Snap",
    "description": "Find and kill a flaming sphere.",
    "goal": "MGOAL_KILL_MONSTER",
    "difficulty": 1,
    "value": 10000,
	"origins": [ "ORIGIN_OPENER_NPC" ],
        "start": {
      "assign_mission_target": { "om_terrain": "field", "reveal_radius": 1, "random": true, "search_range": 5, "min_distance": 4, "z": 0 },
      "update_mapgen": { "place_monster": [ { "monster": "mon_mu_flaming_sphere", "x": 1, "y": 1, "target": true } ] }
    },
	"end": { "effect": [
                { "npc_add_var": "magic_lesson_5", "type": "general", "context": "mission", "value": "yes" }
		] },
	"has_generic_rewards": true,
	"dialogue": {
      "describe": "A flaming sphere is on the loose.",
	  "offer": "One of my students summons went ary, now its terrorizing the landscape. I want you to kill it.",
	  "advice": "I would recommend keeping your guard up.",
      "accepted": "Be careful.",
      "rejected": "Ah well.",
      "inquire": "Did you do it?",
      "success": "Good job.",
      "success_lie": "",
      "failure": "Oh no."
    }
  },
{
    "id": "MISSION_SIXTH_LESSON",
    "type": "mission_definition",
    "name": "Sixth Lesson",
    "description": "Crystalize 200 units of raw magic.",
    "goal": "MGOAL_FIND_ITEM",
    "item": "crystallized_mana",
	"count": 200,
    "value": 1000,
    "difficulty": 1,
	"origins": [ "ORIGIN_OPENER_NPC" ],
	"end": { "effect": [
                { "npc_add_var": "magic_lesson_6", "type": "general", "context": "mission", "value": "yes" },
                { "npc_lose_var": "magic_lesson_5", "type": "general", "context": "mission", "value": "yes" }
		] },
	"has_generic_rewards": true,
	"dialogue": {
      "describe": "Get me some raw crystal magic.",
	  "offer": "To test your magical ability thus far, I want you to crystalize some magic for me.",
	  "advice": "",
      "accepted": "Good.",
      "rejected": "This is required, you know.",
      "inquire": "Did you do it?",
      "success": "Good job.",
      "success_lie": "",
      "failure": ""
    }
  },
{
    "id": "MISSION_SEVENTH_LESSON",
    "type": "mission_definition",
    "name": "Seventh Lesson",
    "description": "Crystalize 400 units of raw magic.",
    "goal": "MGOAL_FIND_ITEM",
    "item": "crystallized_mana",
	"count": 400,
    "value": 1000,
    "difficulty": 1,
	"origins": [ "ORIGIN_OPENER_NPC" ],
	"end": { "effect": [
                { "u_spawn_item": "second_grad_slip" },
                { "npc_lose_var": "u_in_class", "type": "general", "context": "mission", "value": "yes" },
                { "npc_lose_var": "magic_lesson_6", "type": "general", "context": "mission", "value": "yes" }
		] },
	"has_generic_rewards": true,
	"dialogue": {
      "describe": "Get me some raw crystal magic.",
	  "offer": "To test your magical ability thus far, I want you to crystalize some magic for me.",
	  "advice": "",
      "accepted": "Good.",
      "rejected": "This is required, you know.",
      "inquire": "Did you do it?",
      "success": "Good job.",
      "success_lie": "",
      "failure": ""
    }
  },
{
    "id": "MISSION_EIGHTH_LESSON",
    "type": "mission_definition",
    "name": "Pursuit of Necromancy",
    "description": "Find and kill a goblin necromancer.",
    "goal": "MGOAL_KILL_MONSTER",
    "difficulty": 1,
    "value": 1000,
	"origins": [ "ORIGIN_OPENER_NPC" ],
        "start": {
      "assign_mission_target": { "om_terrain": "field", "reveal_radius": 1, "random": true, "search_range": 5, "min_distance": 4, "z": 0 },
      "update_mapgen": { "place_monster": [ { "monster": "mon_mtc_goblin_necromancer", "x": 1, "y": 1, "target": true } ] }
    },
	"end": { "effect": [
                { "npc_add_var": "magic_lesson_8", "type": "general", "context": "mission", "value": "yes" }
		] },
	"has_generic_rewards": true,
	"dialogue": {
      "describe": "A goblin necromancer is on the loose.",
	  "offer": "We've seen a goblin necromancer wandering around here, stealing our materials. I want you to kill it.",
	  "advice": "I would recommend keeping your guard up.",
      "accepted": "Be careful.",
      "rejected": "Ah well.",
      "inquire": "Did you do it?",
      "success": "Good job. I belive you have earned this.",
      "success_lie": "",
      "failure": "Oh no."
    }
  },
{
    "id": "MISSION_NINTH_LESSON",
    "type": "mission_definition",
    "name": "Seeker of The Arcane",
    "description": "Find a staff of magical concentration.",
    "goal": "MGOAL_FIND_ITEM",
    "item": "magic_focus_staff",
	"count": 1,
    "value": 1000,
    "difficulty": 1,
	"origins": [ "ORIGIN_OPENER_NPC" ],
	"end": { "effect": [
                { "u_spawn_item": "magic_focus_staff" },
                { "npc_add_var": "magic_lesson_9", "type": "general", "context": "mission", "value": "yes" },
                { "npc_lose_var": "magic_lesson_8", "type": "general", "context": "mission", "value": "yes" }
		] },
	"has_generic_rewards": true,
	"dialogue": {
       "describe": "Get me a staff of magical concentration.",
	  "offer": "A mage always needs to be prepared for the worst, and I want you to do that. Show me you have a staff of magical concentration. You'll get it back, don't worry.",
	  "advice": "",
      "accepted": "Good.",
      "rejected": "This is required, you know.",
      "inquire": "Did you do it?",
      "success": "Good job.",
      "success_lie": "",
      "failure": ""
    }
  },
{
    "id": "MISSION_TENTH_LESSON",
    "type": "mission_definition",
    "name": "Crystalizer",
    "description": "Find 1000 units of raw magic.",
    "goal": "MGOAL_FIND_ITEM",
    "item": "crystallized_mana",
	"count": 1000,
    "value": 1000,
    "difficulty": 1,
	"origins": [ "ORIGIN_OPENER_NPC" ],
	"end": { "effect": [
                { "u_spawn_item": "third_grad_slip" },
                { "npc_lose_var": "u_in_class", "type": "general", "context": "mission", "value": "yes" },
                { "npc_lose_var": "magic_lesson_9", "type": "general", "context": "mission", "value": "yes" }
		] },
	"has_generic_rewards": true,
	"dialogue": {
       "describe": "Get me some raw crystal magic.",
	  "offer": "You have come quite far in your journey as a mage. To face your final test with me, I need 1000 units of raw magic. Think you can do it?",
	  "advice": "",
      "accepted": "Good.",
      "rejected": "This is required, you know.",
      "inquire": "Did you do it?",
      "success": "Good job. Here is your pass.",
      "success_lie": "",
      "failure": ""
    }
  },
{
    "id": "MISSION_FINAL_LESSON",
    "type": "mission_definition",
    "name": "Trial of The Arcane",
    "description": "Find the charm of passage in the maze below.",
    "goal": "MGOAL_FIND_ITEM",
    "item": "charm_graduation",
	"count": 1,
    "value": 1000,
    "difficulty": 1,
	"origins": [ "ORIGIN_OPENER_NPC" ],
	"end": { "effect": [
                { "u_spawn_item": "fourth_grad_slip" },
                { "npc_lose_var": "u_in_class", "type": "general", "context": "mission", "value": "yes" }
		] },
	"has_generic_rewards": true,
	"dialogue": {
       "describe": "Complete the trial, and bring me the sigil of your graduation.",
	  "offer": "For your final test as a wizard, I need you to enter the maze below, and find the charm of passage. The stairs are at the end of the hall. Use your magic to guide you, and you should succeed.",
	  "advice": "",
      "accepted": "Good.",
      "rejected": "This is required, you know.",
      "inquire": "Did you do it?",
      "success": "I present your graduation papers. You are now, officially, a mage.",
      "success_lie": "",
      "failure": ""
    }
  },
{
    "id": "MISSION_GET_MAGIC_INK",
    "type": "mission_definition",
    "name": "Ink In The Magic",
    "description": "Obtain some enchanted ink (7 units)",
    "goal": "MGOAL_FIND_ITEM",
     "item": "magic_ink",
	"count": 7,
    "difficulty": 1,
    "value": 1,
    "followup": "MISSION_GET_PAPER",
	"origins": [ "ORIGIN_OPENER_NPC" ],
	"end": { "effect": [
		{ "u_spawn_item": "silver_coin", "count": 10 },
                { "npc_add_var": "known", "type": "dialogue", "context": "mage", "value": "yes" }
		] },
	"has_generic_rewards": false,
	"dialogue": {
      "describe": "I need some enchanted ink.",
	  "offer": "I've been working on my runecraft, but I've run out of ink. Could you get some for me?",
	  "advice": "I think you can make some.",
      "accepted": "Thank you.",
      "rejected": "Ah, well.",
      "inquire": "Do you have the ink?",
      "success": "Thank you.",
      "success_lie": "Where is the ink?",
      "failure": "Oh well."
    }
  },
{
    "id": "MISSION_BASIC_INFUSION",
    "type": "mission_definition",
    "name": "Dawn of The Arcanist",
    "description": "Craft a runed wooden totem.",
    "goal": "MGOAL_FIND_ITEM",
    "item": "runed_totem",
	"count": 1,
    "difficulty": 1,
    "value": 1000,
    "origins": [ "ORIGIN_OPENER_NPC" ],
    "start": { "effect": [
		{ "u_spawn_item": "infusion_basic" }
		] },
     "end": { "effect": [		
                { "npc_add_var": "magic_lesson_1", "type": "general", "context": "mission", "value": "yes" },
                { "npc_add_var": "u_learned_infusion", "type": "general", "context": "mission", "value": "yes" }
		] },
    "has_generic_rewards": true,
    "dialogue": {
    "describe": "Demonstrate your magic to me.",
    "offer": "For our first lesson, I need you to practice basic infusion principles. To demonstrate this, bring me a runed wooden totem.",
    "advice": "Its simple, just follow the recipe in the book.",
      "accepted": "Good.",
      "rejected": "This is required, you know.",
      "inquire": "Have you done it?",
      "success": "Good job.",
      "success_lie": "",
      "failure": ""
    }
  },
{
    "id": "MISSION_BASIC_INFUSION2",
    "type": "mission_definition",
    "name": "Spiraling Sword",
    "description": "Enchant a longsword.",
    "goal": "MGOAL_FIND_ITEM",
    "item": "longsword+1",
	"count": 1,
    "difficulty": 1,
    "value": 1000,
    "origins": [ "ORIGIN_OPENER_NPC" ],
    "start": { "effect": [
		{ "u_spawn_item": "longsword" }
		] },
     "end": { "effect": [		
                { "npc_lose_var": "magic_lesson_1", "type": "general", "context": "mission", "value": "yes" },
                { "npc_add_var": "magic_lesson_2", "type": "general", "context": "mission", "value": "yes" }
		] },
    "has_generic_rewards": true,
    "dialogue": {
    "describe": "Demonstrate your magic to me.",
    "offer": "I think you're ready for something more advanced. For our next lesson, enchant this longsword, and give it to me.",
    "advice": "Its simple, just follow the recipe in the book.",
      "accepted": "Good.",
      "rejected": "This is required, you know.",
      "inquire": "Have you done it?",
      "success": "Good job.",
      "success_lie": "",
      "failure": ""
    }
  },
{
    "id": "MISSION_BASIC_INFUSION3",
    "type": "mission_definition",
    "name": "Three of Clubs",
    "description": "Enchant three cudgels.",
    "goal": "MGOAL_FIND_ITEM",
    "item": "cudgel+1",
	"count": 3,
    "difficulty": 1,
    "value": 1000,
    "origins": [ "ORIGIN_OPENER_NPC" ],
    "start": { "effect": [
		{ "u_spawn_item": "cudgel", "count": 3 }
		] },
     "end": { "effect": [		
                { "npc_lose_var": "magic_lesson_2", "type": "general", "context": "mission", "value": "yes" },
                { "npc_add_var": "magic_lesson_3", "type": "general", "context": "mission", "value": "yes" }
		] },
    "has_generic_rewards": true,
    "dialogue": {
    "describe": "Demonstrate your magic to me.",
    "offer": "You've proven yourself as a novice infusionist. Now, try enchanting these three cudgels, and give them to me.",
    "advice": "Its simple, just follow the recipe in the book.",
      "accepted": "Good.",
      "rejected": "This is required, you know.",
      "inquire": "Have you done it?",
      "success": "Good job.",
      "success_lie": "",
      "failure": ""
    }
  },
{
    "id": "MISSION_BASIC_INFUSION4",
    "type": "mission_definition",
    "name": "Advanced Enchantments",
    "description": "Enchant a cestus. (Craft a cestus++)",
    "goal": "MGOAL_FIND_ITEM",
    "item": "cestus+2",
	"count": 1,
    "difficulty": 1,
    "value": 1000,
    "origins": [ "ORIGIN_OPENER_NPC" ],
    "start": { "effect": [
		{ "u_spawn_item": "cestus" },                
		{ "u_spawn_item": "infusion_mid" }
		] },
     "end": { "effect": [		
                { "npc_lose_var": "magic_lesson_3", "type": "general", "context": "mission", "value": "yes" },
                { "npc_add_var": "magic_lesson_4", "type": "general", "context": "mission", "value": "yes" }
		] },
    "has_generic_rewards": true,
    "dialogue": {
    "describe": "Demonstrate your magic to me.",
    "offer": "I see your getting along. For our next lesson, try making something a bit more advanced. Give this cestus a reinforced enchantment, and bring it to me. This book holds the recipe.",
    "advice": "Its simple, just follow the recipe in the book.",
      "accepted": "Good.",
      "rejected": "This is required, you know.",
      "inquire": "Have you done it?",
      "success": "Good job.",
      "success_lie": "",
      "failure": ""
    }
  },
{
    "id": "MISSION_BASIC_INFUSION5",
    "type": "mission_definition",
    "name": "Totemic Might",
    "description": "Craft ten wooden totems of dawn.",
    "goal": "MGOAL_FIND_ITEM",
    "item": "light_runed_totem",
	"count": 10,
    "difficulty": 1,
    "value": 1000,
    "origins": [ "ORIGIN_OPENER_NPC" ],
    "start": { "effect": [               
		{ "u_spawn_item": "totem_book" }
		] },
     "end": { "effect": [		
                { "npc_lose_var": "magic_lesson_4", "type": "general", "context": "mission", "value": "yes" },
                { "npc_add_var": "magic_lesson_5", "type": "general", "context": "mission", "value": "yes" }
		] },
    "has_generic_rewards": true,
    "dialogue": {
    "describe": "Demonstrate your magic to me.",
    "offer": "Today, we're going to study more on totems. I need you to craft ten wooden totems od dawn, and bring them to me. The recipe is in this book.",
    "advice": "Its simple, just follow the recipe in the book.",
      "accepted": "Good.",
      "rejected": "This is required, you know.",
      "inquire": "Have you done it?",
      "success": "Good job.",
      "success_lie": "",
      "failure": ""
    }
  },
{
    "id": "MISSION_BASIC_INFUSION6",
    "type": "mission_definition",
    "name": "Runic Surge",
    "description": "Craft the first rune of longevity.",
    "goal": "MGOAL_FIND_ITEM",
    "item": "ench_tat_hp_1",
	"count": 1,
    "difficulty": 1,
    "value": 1000,
    "origins": [ "ORIGIN_OPENER_NPC" ],
    "start": { "effect": [               
		{ "u_spawn_item": "totem_book" }
		] },
     "end": { "effect": [		
                { "npc_lose_var": "magic_lesson_5", "type": "general", "context": "mission", "value": "yes" },
                { "npc_lose_var": "u_in_class", "type": "general", "context": "mission", "value": "yes" }
		] },
    "has_generic_rewards": true,
    "dialogue": {
    "describe": "Demonstrate your magic to me.",
    "offer": "For your final lesson, I'm going to teach you basic runecraft. Take this book, and bring me the first rune of longevity.",
    "advice": "Its simple, just follow the recipe in the book.",
      "accepted": "Good.",
      "rejected": "This is required, you know.",
      "inquire": "Have you done it?",
      "success": "Good job. You're an official artificer now, congradulations.",
      "success_lie": "",
      "failure": ""
    }
  },
{
    "id": "MISSION_ALCHEMY_LESSON_1",
    "type": "mission_definition",
    "name": "Beginning The Brew",
    "description": "Brew a potion of water breathing.",
    "goal": "MGOAL_FIND_ITEM",
    "followup": "MISSION_MAGIC_LESSONS",
    "item": "water_breath_lesser",
	"count": 1,
    "difficulty": 1,
    "value": 3000,
    "origins": [ "ORIGIN_OPENER_NPC" ],
    "start": { "effect": [               
		{ "u_spawn_item": "al_reference" },        
		{ "u_spawn_item": "mana_totem_fiber" }
		] },
     "end": { "effect": [		
                { "npc_add_var": "magic_lesson_1", "type": "general", "context": "mission", "value": "yes" }
		] },
    "has_generic_rewards": true,
    "dialogue": {
    "describe": "Demonstrate your magic to me.",
    "offer": "For our first lesson, I'm gonna give you something simple. Take this phamplet, and make a potion of water breathing. I've got tons of ingredients here, so don't worry about getting any.",
    "advice": "Its simple, just follow the recipe.",
      "accepted": "Good.",
      "rejected": "This is required, you know.",
      "inquire": "Have you done it?",
      "success": "Good job.",
      "success_lie": "",
      "failure": ""
    }
  },
{
    "id": "MISSION_ALCHEMY_LESSON_2",
    "type": "mission_definition",
    "name": "Fire and Flame",
    "description": "Brew a potion of fire protection.",
    "goal": "MGOAL_FIND_ITEM",
    "followup": "MISSION_MAGIC_LESSONS",
    "item": "fire_protection_lesser",
	"count": 1,
    "difficulty": 1,
    "value": 3000,
    "origins": [ "ORIGIN_OPENER_NPC" ],
    "start": { "effect": [          
		{ "u_spawn_item": "mana_totem_fiber" }
		] },
     "end": { "effect": [		
                { "npc_add_var": "magic_lesson_2", "type": "general", "context": "mission", "value": "yes" },	
                { "npc_lose_var": "magic_lesson_1", "type": "general", "context": "mission", "value": "yes" }
		] },
    "has_generic_rewards": true,
    "dialogue": {
    "describe": "Demonstrate your magic to me.",
    "offer": "Now, I'd like for you to try your hand at something of elemental fire. Brew a potion of fire protection, and bring it to me.",
    "advice": "Its simple, just follow the recipe.",
      "accepted": "Good.",
      "rejected": "This is required, you know.",
      "inquire": "Have you done it?",
      "success": "Good job.",
      "success_lie": "",
      "failure": ""
    }
  },
{
    "id": "MISSION_ALCHEMY_LESSON_3",
    "type": "mission_definition",
    "name": "Rock Solid",
    "description": "Brew a potion of speed.",
    "goal": "MGOAL_FIND_ITEM",
    "followup": "MISSION_MAGIC_LESSONS",
    "item": "potion_speed_lesser",
	"count": 1,
    "difficulty": 1,
    "value": 3000,
    "origins": [ "ORIGIN_OPENER_NPC" ],
    "start": { "effect": [          
		{ "u_spawn_item": "health_totem_fiber" }
		] },
     "end": { "effect": [		
                { "npc_add_var": "magic_lesson_3", "type": "general", "context": "mission", "value": "yes" },	
                { "npc_lose_var": "magic_lesson_2", "type": "general", "context": "mission", "value": "yes" }
		] },
    "has_generic_rewards": true,
    "dialogue": {
    "describe": "Demonstrate your magic to me.",
    "offer": "Now, I'd like for you to try your hand at something of elemental earth. Brew a potion of speed, and bring it to me.",
    "advice": "Its simple, just follow the recipe.",
      "accepted": "Good.",
      "rejected": "This is required, you know.",
      "inquire": "Have you done it?",
      "success": "Good job.",
      "success_lie": "",
      "failure": ""
    }
  },
{
    "id": "MISSION_ALCHEMY_LESSON_4",
    "type": "mission_definition",
    "name": "Rock Solid",
    "description": "Brew a potion of speed.",
    "goal": "MGOAL_FIND_ITEM",
    "followup": "MISSION_MAGIC_LESSONS",
    "item": "potion_speed_lesser",
	"count": 1,
    "difficulty": 1,
    "value": 3000,
    "origins": [ "ORIGIN_OPENER_NPC" ],
    "start": { "effect": [          
		{ "u_spawn_item": "health_totem_fiber" }
		] },
     "end": { "effect": [		
                { "npc_add_var": "magic_lesson_4", "type": "general", "context": "mission", "value": "yes" },	
                { "npc_lose_var": "magic_lesson_3", "type": "general", "context": "mission", "value": "yes" }
		] },
    "has_generic_rewards": true,
    "dialogue": {
    "describe": "Demonstrate your magic to me.",
    "offer": "Now, I'd like for you to try your hand at something of elemental earth. Brew a potion of speed, and bring it to me.",
    "advice": "Its simple, just follow the recipe.",
      "accepted": "Good.",
      "rejected": "This is required, you know.",
      "inquire": "Have you done it?",
      "success": "Good job.",
      "success_lie": "",
      "failure": ""
    }
  },
{
    "id": "MISSION_ALCHEMY_LESSON_5",
    "type": "mission_definition",
    "name": "Advanced Alchemy",
    "description": "Brew a concentrated potion of speed.",
    "goal": "MGOAL_FIND_ITEM",
    "followup": "MISSION_MAGIC_LESSONS",
    "item": "potion_speed",
	"count": 1,
    "difficulty": 1,
    "value": 3000,
    "origins": [ "ORIGIN_OPENER_NPC" ],
    "start": { "effect": [ 
                { "u_spawn_item": "potion_mid" },         
		{ "u_spawn_item": "health_totem_fiber", "count": 4 }
		] },
     "end": { "effect": [		
                { "npc_add_var": "magic_lesson_5", "type": "general", "context": "mission", "value": "yes" },	
                { "npc_lose_var": "magic_lesson_4", "type": "general", "context": "mission", "value": "yes" }
		] },
    "has_generic_rewards": true,
    "dialogue": {
    "describe": "Demonstrate your magic to me.",
    "offer": "You've come far as an alchemist, and I want you to try something more advanced now. Take this book, and brew me a concentrated potion of speed.",
    "advice": "Its simple, just follow the recipe.",
      "accepted": "Good.",
      "rejected": "This is required, you know.",
      "inquire": "Have you done it?",
      "success": "Good job.",
      "success_lie": "",
      "failure": ""
    }
  },
{
    "id": "MISSION_ALCHEMY_LESSON_6",
    "type": "mission_definition",
    "name": "Final Flame",
    "description": "Brew three concentrated potions of fire resistance.",
    "goal": "MGOAL_FIND_ITEM",
    "followup": "MISSION_MAGIC_LESSONS",
    "item": "fire_protection",
	"count": 3,
    "difficulty": 1,
    "value": 3000,
    "origins": [ "ORIGIN_OPENER_NPC" ],
    "start": { "effect": [        
		{ "u_spawn_item": "mana_totem_fiber", "count": 12 }
		] },
     "end": { "effect": [		
                { "npc_add_var": "magic_lesson_5", "type": "general", "context": "mission", "value": "yes" },	
                { "npc_lose_var": "u_in_class", "type": "general", "context": "mission", "value": "yes" }
		] },
    "has_generic_rewards": true,
    "dialogue": {
    "describe": "Demonstrate your magic to me.",
    "offer": "Now we're at our final lesson. Make me three concentrated potions of fire resistance, and I'll pass you.",
    "advice": "Its simple, just follow the recipe.",
      "accepted": "Good.",
      "rejected": "This is required, you know.",
      "inquire": "Have you done it?",
      "success": "Good job.",
      "success_lie": "",
      "failure": ""
    }
  },
{
    "id": "MISSION_DEAN_1",
    "//": "Difficult missions, big money. That's what I'm going for with the dean.",
    "type": "mission_definition",
    "name": "Shamanic Scare",
    "description": "Route the goblin mages. Bring back their ears as trophies.",    
    "followup": "MISSION_DEAN_2",
    "goal": "MGOAL_FIND_ITEM",
	"item": "goblin_ears",
	"count": 4,
    "difficulty": 5,
    "value": 1,
	"origins": [ "ORIGIN_OPENER_NPC" ],
        "start": {
      "assign_mission_target": { "om_terrain": "field", "reveal_radius": 1, "search_range": 100, "min_distance": 4 },
      "update_mapgen": { "place_monster": [ { "monster": "mon_mtc_goblin_necromancer", "x": 1, "y": 1, "target": true },
                                            { "monster": "mon_mtc_goblin_necromancer", "x": 1, "y": 2, "target": true },
                                            { "monster": "mon_mtc_goblin_shaman", "x": 1, "y": 3, "target": true },
                                            { "monster": "mon_mtc_goblin_mage", "x": 1, "y": 4, "target": true } ] }
    },
	"end": { "effect": [
		{ "u_spawn_item": "silver_coin", "count": 45 }
		] },
	"has_generic_rewards": false,
	"dialogue": {
      "describe": "Magic-wielding goblins are on the loose.",
	  "offer": "We've spotted several goblin mages near here. They've already tried to take this academy once, and I don't want that to happen. It is quite dangerous; but if you drive them away from here, I'll pay handsomely.",
	  "advice": "I would recommend keeping your guard up, and bring a friend or two.",
      "accepted": "Be careful.",
      "rejected": "Ah well.",
      "inquire": "Did you do it?",
      "success": "Good job. I belive you have earned this.",
      "success_lie": "",
      "failure": "Oh no."
    }
  },
{
    "id": "MISSION_DEAN_2",
    "type": "mission_definition",
    "name": "Back In Force",
    "description": "Route the goblin mages, again. Bring back their ears as trophies.",    
    "followup": "MISSION_DEAN_3",
   "goal": "MGOAL_FIND_ITEM",
	"item": "goblin_ears",
	"count": 8,
    "difficulty": 6,
    "value": 1,
	"origins": [ "ORIGIN_OPENER_NPC" ],
        "start": {
      "assign_mission_target": { "om_terrain": "field", "reveal_radius": 1, "search_range": 100, "min_distance": 4 },
      "update_mapgen": { "place_monster": [ { "monster": "mon_mtc_goblin_shaman", "x": 1, "y": 1, "target": true },
                                            { "monster": "mon_mtc_goblin_necromancer", "x": 1, "y": 2, "target": true },
                                            { "monster": "mon_mtc_goblin_shaman", "x": 1, "y": 3, "target": true },
                                            { "monster": "mon_mtc_goblin_mage", "x": 1, "y": 4, "target": true },
                                            { "monster": "mon_mtc_goblin_swordsman", "x": 1, "y": 5, "target": true },
                                            { "monster": "mon_mtc_goblin_swordsman", "x": 1, "y": 6, "target": true },
                                            { "monster": "mon_mtc_goblin_swordsman", "x": 1, "y": 7, "target": true },
                                            { "monster": "mon_mtc_goblin_swordsman", "x": 1, "y": 8, "target": true } ] }
    },
	"end": { "effect": [
		{ "u_spawn_item": "silver_coin", "count": 70 }
		] },
	"has_generic_rewards": false,
	"dialogue": {
      "describe": "Magic-wielding goblins are on the loose.",
	  "offer": "Those trouble-makers you delt with before had some friends, and they're coming back at us in force. We've got to get them out of here, and I need your help. There's some money in it for you, too.",
	  "advice": "I would recommend keeping your guard up, and bring a friend or two.",
      "accepted": "Be careful.",
      "rejected": "Ah well.",
      "inquire": "Did you do it?",
      "success": "Good job. I belive you have earned this.",
      "success_lie": "",
      "failure": "Oh no."
    }
  },
{
    "id": "MISSION_DEAN_3",
    "type": "mission_definition",
    "name": "Mystery Man",
    "description": "Retrieve the stolen book.",  
   "goal": "MGOAL_FIND_ITEM",
	"item": "reception_paperwork",
	"count": 1,
    "difficulty": 6,
    "value": 1,
	"origins": [ "ORIGIN_OPENER_NPC" ],         
        "followup": "MISSION_DEAN_4", 
        "start": {
      "assign_mission_target": { "om_terrain": "ocata5", "om_special": "catacombs", "reveal_radius": 1, "search_range": 100 },
       "update_mapgen": [
        { "om_terrain": "ocata5", "place_nested": [ { "chunks": [ "catacombs_stolen_books" ], "x": 0, "y": 0 } ] }
      ]
    },
	"end": { "effect": [
		{ "u_spawn_item": "silver_coin", "count": 30 },
                { "u_spawn_item": "magic_focus_staff+2" }
		] },
	"has_generic_rewards": false,
	"dialogue": {
      "describe": "Some books were stolen, and I need you to get them.",
	  "offer": "Well, a goblin mage snuck in here, and stole some of our books. Our scrying has tracked them down to an old catacomb. I need you to go in there, and get those books back.",
	  "advice": "I would recommend keeping your guard up, and bring a friend or two. The theif may or may not be there, though.",
      "accepted": "Be careful.",
      "rejected": "Ah well.",
      "inquire": "Did you do it?",
      "success": "Good job. I belive you have earned this.",
      "success_lie": "",
      "failure": "Oh no."
    }
  },
{
    "id": "MISSION_DEAN_4",
    "type": "mission_definition",
    "name": "One Dead Dragon",
    "description": "Assasinate the dragon, and bring back a tooth as proof.",  
    "goal": "MGOAL_FIND_ITEM",
	"item": "trophy_dragon_fang",
	"count": 1,
    "difficulty": 5,
    "value": 1,
	"origins": [ "ORIGIN_OPENER_NPC" ],
        "start": {
      "assign_mission_target": { "om_terrain": "field", "reveal_radius": 1, "search_range": 100, "min_distance": 4, "z": -1 },
      "update_mapgen": { "place_monster": [ { "monster": "mon_mtc_dragon_fire_adult", "x": 12, "y": 12, "target": true } ] }
    },
	"end": { "effect": [
		{ "u_spawn_item": "gold_coin", "count": 60 }
		] },
	"has_generic_rewards": false,
	"dialogue": {
      "describe": "A dragon is on the loose.",
	  "offer": "A dragon has been sighted near here. I don't want it coming to this academy, so I need you to kill it. There's gold in it for you.",
	  "advice": "I would recommend keeping your guard up, and bring a friend or two. It's an adult.",
      "accepted": "Be careful.",
      "rejected": "Ah well.",
      "inquire": "Did you do it?",
      "success": "Good job. I belive you have earned this.",
      "success_lie": "",
      "failure": "Oh no."
    }
  }
]
