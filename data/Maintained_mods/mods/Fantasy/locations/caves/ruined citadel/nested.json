[
{
    "//": "Nested group for ruined citadels.",
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "ruined_citadel_nested",
    "object": {
      "mapgensize": [ 8, 8 ],
      "place_nested": [
        { "chunks": [ [ "ruined_citadel_barracks", 100 ], [ "ruined_citadel_kitchen", 70 ], [ "ruined_citadel_weapons", 60 ], [ "ruined_citadel_shields", 60 ], [ "ruined_citadel_training", 50 ], [ "ruined_citadel_empty", 30 ] ], "x": 0, "y": 0 }
      ]
    }
  },
{
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "ruined_citadel_barracks",
    "object": {
      "mapgensize": [ 8, 8 ],
      "rows": [
        "wwwwhwww",
        "wbtbttbw",
        "wttttttw",
        "wbtbttbw",
        "htttttth",
        "wttbttbw",
        "w0tttttw",
        "wwwwhwww"
      ],
      "palettes": [ "caves" ],
      "furniture": { "0": "f_fireplace", "b": "f_bed", "?": "f_hanging_lantern" },
      "terrain": { ".": "t_rock_floor_no_roof", "w": "t_rock_wall", "h": "t_door_c", "t": "t_rock_floor", "b": "t_rock_floor", "0": "t_rock_floor" },
      "items": {
      "0": { "item": "oven", "chance": 100, "repeat": [ 3, 5 ] },
      "b": [ { "item": "bed", "chance": 100, "repeat": [ 1, 2 ] }, { "item": "gambling_den", "chance": 20, "repeat": [ 1, 2 ] } ]
    },
    "place_monsters": [
        { "monster": "GROUP_MTC_undead", "x": [ 1, 6 ], "y": [ 1, 6 ], "density": 0.1 }
      ]
    }
    },
{
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "ruined_citadel_kitchen",
    "object": {
      "mapgensize": [ 8, 8 ],
      "rows": [
        "wwwwhwww",
        "w00tt00w",
        "wttttttw",
        "wqttttqw",
        "htttttth",
        "wqttttqw",
        "wqqqtqqw",
        "wwwwhwww"
      ],
      "palettes": [ "caves" ],
      "furniture": { "0": "f_fireplace", "b": "f_bed", "q": "f_table" },
      "terrain": { ".": "t_rock_floor_no_roof", "w": "t_rock_wall", "h": "t_door_c", "t": "t_rock_floor", "b": "t_rock_floor", "0": "t_rock_floor" },
      "items": {
      "0": { "item": "oven", "chance": 100, "repeat": [ 3, 5 ] },
      "q": { "item": "dishes_dining", "chance": 70, "repeat": [ 1, 2 ] }
    },
    "place_monsters": [
        { "monster": "GROUP_MTC_undead", "x": [ 1, 6 ], "y": [ 1, 6 ], "density": 0.1 }
      ]
    }
    },
{
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "ruined_citadel_empty",
    "object": {
      "mapgensize": [ 8, 8 ],
      "rows": [
        "wwwwhwww",
        "wttttttw",
        "wttttttw",
        "wttttttw",
        "htttttth",
        "wttttttw",
        "wttttttw",
        "wwwwhwww"
      ],
      "palettes": [ "caves" ],
      "terrain": { "w": "t_rock_wall", "h": "t_door_c", "t": "t_rock_floor" }
    }
    },
{
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "ruined_citadel_hall",
    "object": {
      "mapgensize": [ 8, 8 ],
      "rows": [
        "tttttttt",
        "tttttttt",
        "tttttttt",
        "tttttttt",
        "tttttttt",
        "tttttttt",
        "tttttttt",
        "tttttttt"
      ],
      "palettes": [ "caves" ],      
      "terrain": { "t": "t_rock_floor" },
      "place_monsters": [
        { "monster": "GROUP_MTC_undead", "x": [ 1, 6 ], "y": [ 1, 6 ], "density": 0.15 }
      ]
    }
    },
{
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "ruined_citadel_weapons",
    "object": {
      "mapgensize": [ 8, 8 ],
      "rows": [
        "wwwwhwww",
        "w000t00w",
        "w0tttt0w",
        "w0tttt0w",
        "htttttth",
        "w0tttt0w",
        "w000t00w",
        "wwwwhwww"
      ],
      "palettes": [ "caves" ],
      "furniture": { "0": "f_barrel_o", "b": "f_bed", "?": "f_hanging_lantern" },
      "terrain": { ".": "t_rock_floor_no_roof", "w": "t_rock_wall", "h": "t_door_c", "t": "t_rock_floor", "b": "t_rock_floor", "0": "t_rock_floor" },
      "items": {
      "0": { "item": "warrior_weapons", "chance": 70, "repeat": [ 1, 3 ] }
    },
    "place_monsters": [
        { "monster": "GROUP_MTC_undead", "x": [ 1, 6 ], "y": [ 1, 6 ], "density": 0.1 }
      ]
    }
    },
{
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "ruined_citadel_shields",
    "object": {
      "mapgensize": [ 8, 8 ],
      "rows": [
        "wwwwhwww",
        "w000t00w",
        "w0tttt0w",
        "w0tttt0w",
        "htttttth",
        "w0tttt0w",
        "w000t00w",
        "wwwwhwww"
      ],
      "palettes": [ "caves" ],
      "furniture": { "0": "f_barrel_o", "b": "f_bed", "?": "f_hanging_lantern" },
      "terrain": { ".": "t_rock_floor_no_roof", "w": "t_rock_wall", "h": "t_door_c", "t": "t_rock_floor", "b": "t_rock_floor", "0": "t_rock_floor" },
      "items": {
      "0": { "item": "shields_all", "chance": 70, "repeat": [ 1, 3 ] }
    },
    "place_monsters": [
        { "monster": "GROUP_MTC_undead", "x": [ 1, 6 ], "y": [ 1, 6 ], "density": 0.1 }
      ]
    }
    },
{
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "ruined_citadel_training",
    "object": {
      "mapgensize": [ 8, 8 ],
      "rows": [
        "wwwwhwww",
        "wt0tt0tw",
        "w0tttt0w",
        "wttttttw",
        "htttttth",
        "w0tttt0w",
        "wt0tt0tw",
        "wwwwhwww"
      ],
      "palettes": [ "caves" ],
      "furniture": { "0": "f_straw_dummy", "b": "f_bed", "?": "f_hanging_lantern" },
      "terrain": { ".": "t_rock_floor_no_roof", "w": "t_rock_wall", "h": "t_door_c", "t": "t_rock_floor", "b": "t_rock_floor", "0": "t_rock_floor" },
    "place_monsters": [
        { "monster": "GROUP_MTC_undead", "x": [ 1, 6 ], "y": [ 1, 6 ], "density": 0.1 }
      ]
    }
    }                
]