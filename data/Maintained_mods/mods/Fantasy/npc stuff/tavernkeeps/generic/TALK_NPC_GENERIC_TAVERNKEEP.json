[
  {
    "type": "talk_topic",
    "id": "TALK_NPC_GENERIC_TAVERNKEEP",
    "dynamic_line": "Welcome! We've got good food and strong drinks. If'n ye fancy a room we've got those too.",
    "responses": [
		{
		"text": "I'd like some food.",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD"
		},
		{
		"text": "I'd like a drink.",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_DRINK"
		},
		{
		"text": "Heard of anything that needs doing?",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_JOBS",
		"condition": { "not": "has_assigned_mission" }
		},
		{
		"text": "Good to know.",
		"topic": "TALK_DONE"
		}
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD",
    "dynamic_line": "Sure. What'll ya have?",
    "responses": [
		{
		"text": "A pumpkin muffin.(2 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 2 } },
		"effect": [ { "u_spawn_item": "pumpkin_muffins" }, { "u_sell_item": "silver_coin", "count": 2 } ]
		},
		{
		"text": "Some flatbread.(1 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 1 } },
		"effect": [ { "u_spawn_item": "flatbread" }, { "u_sell_item": "silver_coin", "count": 1 } ]
		},
		{
		"text": "Some hardtack.(1 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 1 } },
		"effect": [ { "u_spawn_item": "hardtack" }, { "u_sell_item": "silver_coin", "count": 1 } ]
		},
		{
		"text": "A biscuit.(1 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 1 } },
		"effect": [ { "u_spawn_item": "biscuit" }, { "u_sell_item": "silver_coin", "count": 1 } ]
		},
		{
		"text": "A fish fillet.(1 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 1 } },
		"effect": [ { "u_spawn_item": "fish_cooked" }, { "u_sell_item": "silver_coin", "count": 1 } ]
		},
		{
		"text": "Some meat.(1 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 1 } },
		"effect": [ { "u_spawn_item": "meat_cooked" }, { "u_sell_item": "silver_coin", "count": 1 } ]
		},
		{
		"text": "Some cured meat.(2 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 2 } },
		"effect": [ { "u_spawn_item": "jerky" }, { "u_sell_item": "silver_coin", "count": 2 } ]
		},
		{
		"text": "Some fruit leather.(2 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 2 } },
		"effect": [ { "u_spawn_item": "fruit_leather" }, { "u_sell_item": "silver_coin", "count": 2 } ]
		},
		{
		"text": "A sausage.(1 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 1 } },
		"effect": [ { "u_spawn_item": "sausage_cooked" }, { "u_sell_item": "silver_coin", "count": 1 } ]
		},
		{
		"text": "Some beans and rice with meat.(2 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 2 } },
		"effect": [ { "u_spawn_item": "deluxe_beansnrice" }, { "u_sell_item": "silver_coin", "count": 2 } ]
		},
		{
		"text": "A meat pie.(3 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 3 } },
		"effect": [ { "u_spawn_item": "pie_meat" }, { "u_sell_item": "silver_coin", "count": 3 } ]
		},
		{
		"text": "Meat and eggs.(2 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 2 } },
		"effect": [ { "u_spawn_item": "deluxe_eggs" }, { "u_sell_item": "silver_coin", "count": 2 } ]
		},
		{
		"text": "Actually, no.",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_TRADE_EXIT"
		}
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD_2",
    "dynamic_line": " ",
    "responses": [
		{
		"text": "A pumpkin muffin.(2 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 2 } },
		"effect": [ { "u_spawn_item": "pumpkin_muffins" }, { "u_sell_item": "silver_coin", "count": 2 } ]
		},
		{
		"text": "Some flatbread.(1 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 1 } },
		"effect": [ { "u_spawn_item": "flatbread" }, { "u_sell_item": "silver_coin", "count": 1 } ]
		},
		{
		"text": "Some hardtack.(1 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 1 } },
		"effect": [ { "u_spawn_item": "hardtack" }, { "u_sell_item": "silver_coin", "count": 1 } ]
		},
		{
		"text": "A biscuit.(1 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 1 } },
		"effect": [ { "u_spawn_item": "biscuit" }, { "u_sell_item": "silver_coin", "count": 1 } ]
		},
		{
		"text": "A fish fillet.(1 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 1 } },
		"effect": [ { "u_spawn_item": "fish_cooked" }, { "u_sell_item": "silver_coin", "count": 1 } ]
		},
		{
		"text": "Some meat.(1 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 1 } },
		"effect": [ { "u_spawn_item": "meat_cooked" }, { "u_sell_item": "silver_coin", "count": 1 } ]
		},
		{
		"text": "Some cured meat.(2 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 2 } },
		"effect": [ { "u_spawn_item": "jerky" }, { "u_sell_item": "silver_coin", "count": 2 } ]
		},
		{
		"text": "Some fruit leather.(2 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 2 } },
		"effect": [ { "u_spawn_item": "fruit_leather" }, { "u_sell_item": "silver_coin", "count": 2 } ]
		},
		{
		"text": "A sausage.(1 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 1 } },
		"effect": [ { "u_spawn_item": "sausage_cooked" }, { "u_sell_item": "silver_coin", "count": 1 } ]
		},
		{
		"text": "Some beans and rice with meat.(2 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 2 } },
		"effect": [ { "u_spawn_item": "deluxe_beansnrice" }, { "u_sell_item": "silver_coin", "count": 2 } ]
		},
		{
		"text": "A meat pie.(3 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 3 } },
		"effect": [ { "u_spawn_item": "pie_meat" }, { "u_sell_item": "silver_coin", "count": 3 } ]
		},
		{
		"text": "Meat and eggs.(2 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 2 } },
		"effect": [ { "u_spawn_item": "deluxe_eggs" }, { "u_sell_item": "silver_coin", "count": 2 } ]
		},
		{
		"text": "That is all.",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_TRADE_EXIT"
		}
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_NPC_GENERIC_TAVERNKEEP_DRINK",
    "dynamic_line": "Sure. Here's what we got.",
    "responses": [
		{
		"text": "Some water.(1 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_DRINK_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 1 } },
		"effect": [ { "u_spawn_item": "water_clean", "container": "glass" }, { "u_sell_item": "silver_coin", "count": 1 } ]
		},
		{
		"text": "Some wine.(3 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_DRINK_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 3 } },
		"effect": [ { "u_spawn_item": "fruit_wine", "container": "glass" }, { "u_sell_item": "silver_coin", "count": 3 } ]
		},
		{
		"text": "The cheap wine.(1 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_DRINK_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 1 } },
		"effect": [ { "u_spawn_item": "bum_wine", "container": "glass" }, { "u_sell_item": "silver_coin", "count": 1 } ]
		},
		{
		"text": "Some gin.(1 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_DRINK_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 1 } },
		"effect": [ { "u_spawn_item": "gin", "container": "glass" }, { "u_sell_item": "silver_coin", "count": 1 } ]
		},
		{
		"text": "Some rum.(3 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_DRINK_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 3 } },
		"effect": [ { "u_spawn_item": "rum", "container": "glass" }, { "u_sell_item": "silver_coin", "count": 3 } ]
		},
		{
		"text": "Some mead.(2 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_DRINK_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 2 } },
		"effect": [ { "u_spawn_item": "mead", "container": "glass" }, { "u_sell_item": "silver_coin", "count": 2 } ]
		},
		{
		"text": "Actually, no.",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_TRADE_EXIT"
		}
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_NPC_GENERIC_TAVERNKEEP_DRINK_2",
    "dynamic_line": " ",
    "responses": [
		{
		"text": "Some water.(1 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_DRINK_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 1 } },
		"effect": [ { "u_spawn_item": "water_clean", "container": "glass" }, { "u_sell_item": "silver_coin", "count": 1 } ]
		},
		{
		"text": "Some wine.(3 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_DRINK_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 3 } },
		"effect": [ { "u_spawn_item": "fruit_wine", "container": "glass" }, { "u_sell_item": "silver_coin", "count": 3 } ]
		},
		{
		"text": "The cheap wine.(1 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_DRINK_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 1 } },
		"effect": [ { "u_spawn_item": "bum_wine", "container": "glass" }, { "u_sell_item": "silver_coin", "count": 1 } ]
		},
		{
		"text": "Some gin.(1 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_DRINK_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 1 } },
		"effect": [ { "u_spawn_item": "gin", "container": "glass" }, { "u_sell_item": "silver_coin", "count": 1 } ]
		},
		{
		"text": "Some rum.(3 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_DRINK_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 3 } },
		"effect": [ { "u_spawn_item": "rum", "container": "glass" }, { "u_sell_item": "silver_coin", "count": 3 } ]
		},
		{
		"text": "Some mead.(2 silver)",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_DRINK_2",
		"condition": { "u_has_items": { "item": "silver_coin", "count": 2 } },
		"effect": [ { "u_spawn_item": "mead", "container": "glass" }, { "u_sell_item": "silver_coin", "count": 2 } ]
		},
		{
		"text": "That is all.",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_TRADE_EXIT"
		}
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_NPC_GENERIC_TAVERNKEEP_TRADE_EXIT",
    "dynamic_line": "Anything else you need?",
    "responses": [
		{
		"text": "I'd like some food.",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_FOOD"
		},
		{
		"text": "I'd like a drink.",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_DRINK"
		},
		{
		"text": "Heard of anything that needs doing?",
		"topic": "TALK_NPC_GENERIC_TAVERNKEEP_JOBS",
		"condition": { "not": "has_assigned_mission" }
		},
		{
		"text": "I'm good, thanks.",
		"topic": "TALK_DONE"
		}
    ]
  },
  {
    "id": "TALK_NPC_GENERIC_TAVERNKEEP_JOBS",
    "type": "talk_topic",
    "dynamic_line": {
      "has_no_available_mission": {
        "has_no_assigned_mission": "There aint anythin' more I can give ya on the jobs side.",
        "no": { "has_many_assigned_missions": "You've got enough jobs to worry about. Finish them first.", "no": "That is all for now." }
      },
      "no": {
        "has_many_available_missions": {
          "has_no_assigned_mission": "There's a few jobs available. Want to take them on?",
          "no": {
            "has_many_assigned_missions": "Are ya achin' for more work?",
            "no": "If'n ye believe ye can take on some more work I can give'em to ya."
          }
        },
        "no": {
          "has_no_assigned_mission": "There's a job available if you want it.",
          "no": {
            "has_many_assigned_missions": "There is an additional job ye can take, if you'd like.",
            "no": "I know of a certain thing someone could do, if yer interested."
          }
        }
      }
    },
    "responses": [
      { "text": "I see.", "topic": "TALK_NONE", "condition": "has_no_available_mission" },
      {
        "text": "I'm listening.",
        "topic": "TALK_MISSION_OFFER",
        "condition": { "not": "has_no_available_mission" }
      },
      {
        "text": "Perhaps another time.",
        "topic": "TALK_NPC_GENERIC_TAVERNKEEP_JOB_REJECTED"
      }
    ]
  },
  {
    "id": "TALK_NPC_GENERIC_TAVERNKEEP_JOB_REJECTED",
    "type": "talk_topic",
    "dynamic_line": "It's fine, I can probably find someone else to do it.",
    "responses": [
      { "text": "...", "topic": "TALK_NPC_GENERIC_TAVERNKEEP_TRADE_EXIT" },
      { "text": "See ya.", "topic": "TALK_DONE" }
    ]
  }
]
